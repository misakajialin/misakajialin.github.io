<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo的美化和优化--Ayer主题的安装与SEO优化</title>
    <url>/20230623/Hexo%E7%9A%84%E7%BE%8E%E5%8C%96%E5%92%8C%E4%BC%98%E5%8C%96--Ayer%E4%B8%BB%E9%A2%98%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8ESEO%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>正想要写这篇博客时。打开朋友圈一看，又是狗粮又是现充在这端午三天横行。反观自己，这三天就全坐在电脑旁折腾树莓派和博客了。不说了题外话了，回归正题。本篇博文力图包含Ayer主题的安装，live2d看板娘的安装，SEO的优化。</p>
<span id="more"></span>

<h1 id="部署Ayer主题"><a href="#部署Ayer主题" class="headerlink" title="部署Ayer主题"></a>部署Ayer主题</h1><h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h2><p><strong>方法一( 推荐）：</strong></p>
<p>在你的博客（Hexo）目录下执行以下命令：</p>
<p>如若没有安装cnpm则以下所有cnpm命令全部改为npm即可，或者参考我的这篇博文<a href="https://misakait.online/20230623/%E8%AE%B0%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8AHexo%E7%9A%84%E6%90%AD%E5%BB%BA/">记树莓派上Hexo的搭建 | Misakait’s Blog</a> 来安装cnpm。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i hexo-theme-ayer -S</span><br></pre></td></tr></table></figure>

<ul>
<li>如果是新安装本主题，安装完成后会在根目录生成一个<code>_config.ayer.yml</code>文件，如若没有新建一个<code>_config.ayer.yml文件。直接编辑</code>_conig.ayer.yml&#96;文件进行配置即可。</li>
</ul>
<p><strong>方法二（hexo &lt; 5.0）：</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 国内用户如果速度较慢，可以把github地址替换为：https://gitee.com/mirrors/ayer.git</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/Shen-Yu/hexo-theme-ayer.git themes/ayer</span><br></pre></td></tr></table></figure>

<h2 id="2-配置"><a href="#2-配置" class="headerlink" title="2.配置"></a>2.配置</h2><p>将博客根目录下的 <code>_config.yml</code> 里的 <code>theme</code> 值修改成 <code>ayer</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">theme: ayer</span><br></pre></td></tr></table></figure>

<p>进入_config.ayer.yml文件配置，如果你一开始没有改文件，而是自己新建的，将下文复制过去。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 侧边栏菜单</span><br><span class="line">menu:</span><br><span class="line">  主页: /</span><br><span class="line">  归档: /archives</span><br><span class="line">  分类: /categories</span><br><span class="line">  标签: /tags</span><br><span class="line">  关于我: /about</span><br><span class="line"></span><br><span class="line"># 站点次标题和打字动效</span><br><span class="line"># https://github.com/mattboldt/typed.js</span><br><span class="line">subtitle:</span><br><span class="line">  enable: true # 是否开启动效</span><br><span class="line">  text: 唯我超电磁炮永存 # 显示的文字</span><br><span class="line">  text2: 樱花落下的速度是没秒五厘米 # 滚动播放，如果不需要可以留空</span><br><span class="line">  text3: 在此宣誓对你的爱 # 最多支持三段文字</span><br><span class="line">  startDelay: 0 # 延迟时间</span><br><span class="line">  typeSpeed: 200 # 打字速度</span><br><span class="line">  loop: true # 是否循环</span><br><span class="line">  backSpeed: 100 # 回退速度</span><br><span class="line">  showCursor: true # 是否显示光标</span><br><span class="line"></span><br><span class="line"># 网站图标和侧边栏logo</span><br><span class="line">favicon: /favicon.ico</span><br><span class="line">logo: /images/ayer-side.svg</span><br><span class="line"></span><br><span class="line"># 封面配置</span><br><span class="line"># enable-是否启用封面；path-封面背景图；logo-封面logo</span><br><span class="line">cover:</span><br><span class="line">  enable: true</span><br><span class="line">  path: /images/cover1.jpg # /source/images目录下附送多张精美壁纸，可任意更换</span><br><span class="line">  logo: /images/ayer.svg # 如果不要直接设置成false</span><br><span class="line"></span><br><span class="line"># 页面顶部进度条</span><br><span class="line">progressBar: true</span><br><span class="line"></span><br><span class="line"># 告示板模块</span><br><span class="line">broadcast:</span><br><span class="line">  enable: true # true开启，false关闭</span><br><span class="line">  type: 2 # 1：自定义输入，2：一言api(https://hitokoto.cn/)</span><br><span class="line">  text: 一个安静优雅的hexo主题，快速且响应式。 # type为1时有效</span><br><span class="line"></span><br><span class="line"># 文章配置</span><br><span class="line"># 文章太长，截断按钮文字(在需要截断的行增加此标记：&lt;!--more--&gt;)</span><br><span class="line">excerpt_link: 阅读更多...</span><br><span class="line"># 如果你嫌每篇文章手动加more标记比较麻烦，又不想在首页全文显示，可以把excerpt_all设置成true，这样首页只会显示文章归档</span><br><span class="line">excerpt_all: false</span><br><span class="line"></span><br><span class="line"># 是否开启代码复制按钮</span><br><span class="line">copy_btn: true</span><br><span class="line"># 是否开启文章分享按钮</span><br><span class="line">share_enable: true</span><br><span class="line"># 国内的社交平台(If you are not in China, maybe you prefer to set:false)</span><br><span class="line">share_china: true</span><br><span class="line"># 文章分享文字</span><br><span class="line">share_text: 分享</span><br><span class="line"></span><br><span class="line"># 分页文字</span><br><span class="line">nav_text:</span><br><span class="line">  page_prev: 上一页</span><br><span class="line">  page_next: 下一页</span><br><span class="line">  post_prev: 上一篇</span><br><span class="line">  post_next: 下一篇</span><br><span class="line"></span><br><span class="line"># 文章页是否显示目录</span><br><span class="line">toc: true</span><br><span class="line"></span><br><span class="line"># 文章中的图片是否支持点击放大</span><br><span class="line">image_viewer: true</span><br><span class="line"></span><br><span class="line"># https://github.com/willin/hexo-wordcount</span><br><span class="line"># 是否开启字数统计(关闭请设置enable为false)</span><br><span class="line"># 也可以单独在md文件里Front-matter设置`no_word_count: true`属性，来自定义关闭字数统计</span><br><span class="line">word_count:</span><br><span class="line">  enable: true</span><br><span class="line">  # 只在文章详情显示(不在首页显示)</span><br><span class="line">  only_article_visit: true</span><br><span class="line"></span><br><span class="line"># 打赏</span><br><span class="line"># 打赏type设定：0-关闭打赏； 1-文章对应的md文件里有reward:true属性，才有打赏； 2-默认开启所有文章均有打赏，如果有些文章你不需要，请在文章对应的md文件里设置no_reward:true</span><br><span class="line">reward_type: 0</span><br><span class="line"># 打赏wording</span><br><span class="line">#reward_wording: &quot;请我喝杯咖啡吧~&quot;</span><br><span class="line"># 支付宝二维码图片地址，跟你设置logo的方式一样。比如：/images/alipay.jpg</span><br><span class="line">#alipay: /images/alipay.jpg</span><br><span class="line"># 微信二维码图片地址</span><br><span class="line">#weixin: /images/wechat.jpg</span><br><span class="line"></span><br><span class="line"># 版权声明</span><br><span class="line"># 版权声明type设定：0-关闭版权声明； 1-文章对应的md文件里有copyright: true属性，才有版权声明； 2-所有文章均有版权声明</span><br><span class="line">copyright_type: 2</span><br><span class="line"></span><br><span class="line"># 是否启用搜索</span><br><span class="line">search: true</span><br><span class="line"></span><br><span class="line"># RSS订阅(先安装hexo-generator-feed插件，再去博客根目录config进行配置)</span><br><span class="line"># 不想显示可以直接留空</span><br><span class="line">rss: /atom.xml</span><br><span class="line"></span><br><span class="line"># 是否启用黑夜模式开关</span><br><span class="line">darkmode: true</span><br><span class="line"></span><br><span class="line"># 动态背景效果: 0-关闭，1-动态线条(跟随鼠标)</span><br><span class="line">canvas_bg: 1</span><br><span class="line"></span><br><span class="line"># 自定义鼠标样式，直接替换/images/mouse.cur文件</span><br><span class="line">mouse:</span><br><span class="line">  enable: false</span><br><span class="line">  path: /images/mouse.cur</span><br><span class="line"></span><br><span class="line"># 鼠标点击效果：0-关闭，1-爱心，2-爆炸烟花，3-粒子烟花</span><br><span class="line">click_effect: 1</span><br><span class="line"></span><br><span class="line"># 页面宽度自定义（不建议修改，可能造成布局混乱），article_width文章宽度，sidebar_width侧边栏宽度</span><br><span class="line">layout:</span><br><span class="line">  article_width: 80rem</span><br><span class="line">  sidebar_width: 8rem</span><br><span class="line"></span><br><span class="line"># GitHub Ribbons-封面右上角的forkme，换样式直接在source/images目录下替换forkme图片</span><br><span class="line">github:</span><br><span class="line">  # (关闭请设置为false)</span><br><span class="line">  enable: false</span><br><span class="line">  url: https://github.com/Shen-Yu/hexo-theme-ayer</span><br><span class="line"></span><br><span class="line"># 网易云音乐插件</span><br><span class="line">music:</span><br><span class="line">  enable: false</span><br><span class="line">  # 播放器尺寸类型(1：小尺寸、2：大尺寸)</span><br><span class="line">  type: 1</span><br><span class="line">  id: 496869422 # 网易云分享的音乐ID(更换音乐请更改此配置项)</span><br><span class="line">  autoPlay: true # 是否开启自动播放</span><br><span class="line"></span><br><span class="line"># 访问量统计(不蒜子)</span><br><span class="line">busuanzi:</span><br><span class="line">  enable: true</span><br><span class="line"></span><br><span class="line"># 友盟cnzz统计(url填js代码src链接)</span><br><span class="line">cnzz:</span><br><span class="line">  enable: true</span><br><span class="line">  url: #</span><br><span class="line"></span><br><span class="line"># Google Analytics</span><br><span class="line">google_analytics: &quot;&quot;</span><br><span class="line"># 百度统计</span><br><span class="line">baidu_analytics: &quot;&quot;</span><br><span class="line"></span><br><span class="line"># Mathjax数学公式</span><br><span class="line">mathjax: true</span><br><span class="line"></span><br><span class="line"># Katex数学公式(allpost设置为false时只有头部设置math:true的文章才开启)</span><br><span class="line"># 需要更换hexo渲染器，npm un hexo-renderer-marked -S &amp;&amp; npm i hexo-renderer-markdown-it-katex -S</span><br><span class="line">katex:</span><br><span class="line">  enable: false # true</span><br><span class="line">  allpost: true</span><br><span class="line">  copy_tex: false</span><br><span class="line"></span><br><span class="line"># mermaid流程图 三个选项缺一不可(https://mermaid-js.github.io/mermaid/#/)</span><br><span class="line">mermaid:</span><br><span class="line">  enable: false</span><br><span class="line">  cdn: https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js</span><br><span class="line">  theme: forest</span><br><span class="line"></span><br><span class="line"># 网站成立年份(默认为 2023，若填入年份小于当前年份，则显示为 2018-2023 类似的格式)</span><br><span class="line">since: 2023</span><br><span class="line"></span><br><span class="line"># ICP备案信息尾部显示</span><br><span class="line">icp:</span><br><span class="line">  enable: false</span><br><span class="line">  url: &quot;http://www.beian.miit.gov.cn/&quot; # 备案链接</span><br><span class="line">  text: &quot;浙ICP备88888888&quot; # 备案信息</span><br><span class="line"># 公安备案信息尾部显示</span><br><span class="line">gongan:</span><br><span class="line">  enable: true</span><br><span class="line">  img: /images/beian.png #公安备案图片</span><br><span class="line">  url: &quot;http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=01234567890123&quot; #公安备案链接</span><br><span class="line">  text: &quot;浙公网安备01234567890123号&quot; #公安备案信息</span><br><span class="line"></span><br><span class="line"># 友情链接</span><br><span class="line">friends_link:</span><br><span class="line">  Ayer主题: #网站名称</span><br><span class="line">    #网站地址</span><br><span class="line">    url: https://github.com/Shen-Yu/hexo-theme-ayer</span><br><span class="line">    #网站图片(可忽略不写)</span><br><span class="line">    img: /images/ayer.png</span><br><span class="line">  GitHub:</span><br><span class="line">    url: https://github.com/Shen-Yu</span><br><span class="line">    img: https://i.loli.net/2020/09/07/indb4PRYDA98EkN.png</span><br><span class="line">  码云:</span><br><span class="line">    url: https://gitee.com/shen-yu</span><br><span class="line">    img: https://i.loli.net/2020/09/07/K3AqO7h6krQFlRX.png</span><br><span class="line">  Hexo官网:</span><br><span class="line">    url: https://hexo.io</span><br><span class="line">    img: https://i.loli.net/2020/09/07/UYGzjo7h68CRWny.png</span><br><span class="line">  Hexo图表插件:</span><br><span class="line">    url: https://github.com/Shen-Yu/hexo-tag-chart</span><br><span class="line">    img: https://i.loli.net/2020/09/07/GIXBYE5SoylhR1r.png</span><br><span class="line"></span><br><span class="line"># 评论：1、Valine(推荐)；2、Gitalk；3、Twikoo; 4.MiniValine</span><br><span class="line"></span><br><span class="line"># 1、Valine[一款快速、简洁且高效的无后端评论系统](https://github.com/xCss/Valine)</span><br><span class="line"># 启用Valine必须先创建leancloud应用， 获取 id|key 填入即可</span><br><span class="line">leancloud:</span><br><span class="line">  enable: true</span><br><span class="line">  app_id: #</span><br><span class="line">  app_key: #</span><br><span class="line"># Valine配置</span><br><span class="line">valine:</span><br><span class="line">  enable: true # 是否启用</span><br><span class="line">  avatar: monsterid # 头像样式(https://valine.js.org/avatar.html)</span><br><span class="line">  placeholder: 给我的文章加点评论吧~ # placeholder</span><br><span class="line"></span><br><span class="line"># 2、Gitalk(https://github.com/gitalk/gitalk)</span><br><span class="line">gitalk:</span><br><span class="line">  enable: false # true</span><br><span class="line">  clientID: # GitHub Application Client ID</span><br><span class="line">  clientSecret: # Client Secret</span><br><span class="line">  repo: # Repository name</span><br><span class="line">  owner: # GitHub ID</span><br><span class="line">  admin: # GitHub ID</span><br><span class="line"></span><br><span class="line"># 3、Twikoo(https://github.com/imaegoo/twikoo)</span><br><span class="line">twikoo:</span><br><span class="line">  enable: false</span><br><span class="line">  envId: #</span><br><span class="line"></span><br><span class="line"># 4、MiniValine</span><br><span class="line"># See: https://github.com/MiniValine/MiniValine</span><br><span class="line">minivaline:</span><br><span class="line">  enable: false</span><br><span class="line">  serverURL: https://minivaline.your-domain.com</span><br><span class="line"></span><br><span class="line"># 首页广告配置</span><br><span class="line"># 可以根据需要自行增加ad_3，ad_4...，留空则不显示</span><br><span class="line">ads:</span><br><span class="line"># ad_1:</span><br><span class="line">#    title: vultr优惠vps</span><br><span class="line">#    img: https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/vultr.png</span><br><span class="line">#    url: https://www.vultr.com/?ref=8630075</span><br><span class="line">#    width: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 网站开启加密访问，密码可设置任何字符</span><br><span class="line">lock:</span><br><span class="line">  enable: false</span><br><span class="line">  password: 123456</span><br></pre></td></tr></table></figure>

<h2 id="3-关于插件"><a href="#3-关于插件" class="headerlink" title="3.关于插件"></a>3.关于插件</h2><ul>
<li><a href="https://github.com/theme-next/hexo-generator-searchdb">hexo-generator-searchdb</a> 用于搜索（必需）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cnpm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>然后将以下配置复制到你博客根目录下的 <code>_config.yml</code> 里（注意不是 ayer 目录下的）:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line"> path: search.xml</span><br><span class="line"> field: post</span><br><span class="line"> format: html</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a> 用于生成 RSS 订阅（必需）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cnpm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>

<p>然后同样将以下配置复制到你博客根目录下的 <code>_config.yml</code> 里（注意不是 ayer 目录下的）:</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: &quot; &quot;</span><br><span class="line">  order_by: -date</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md">hexo-helper-live2d</a> 看板娘（可选）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cnpm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>

<p>下载模型</p>
<p>有以下这些模型。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru/<span class="number">01</span> (use npm install <span class="attr">--save</span> live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haru/<span class="number">02</span> (use npm install <span class="attr">--save</span> live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure>

<p>选择好对应的模型，使用 <code>cnpm install 模型的包名</code> 来安装，比如我选择的的是&#96;live2d-widget-model-miku 模型包.</p>
<p><img src="https://pic.imgdb.cn/item/649660611ddac507cc054590.webp"></p>
<p>在hexo博客根目录选择<code>cmd</code>命令窗口或者<code>git bash</code> 输入以下代码:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#仅为示例，将live2d-widget-model-miku改为你想要的模型包名。</span></span><br><span class="line">sudo cnpm install live2d-widget-model-miku</span><br></pre></td></tr></table></figure>

<p>打开个人Hexo博客文件根目录下的 <code>_config.yml</code> 文件，在最后添加一下代码，示例:</p>
<p>其他你配置你照抄即可，注意 model 中的 use 要改成你所安装的模型包名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># live2d</span><br><span class="line"># https://github.com/EYHN/hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">  enable: true # 是否启用看板娘</span><br><span class="line">  scriptFrom: local # 默认</span><br><span class="line">  pluginRootPath: live2dw/ # 插件在站点上的根目录(相对路径)，自动生成</span><br><span class="line">  pluginJsPath: lib/ # 脚本文件相对与插件根目录路径</span><br><span class="line">  pluginModelPath: assets/ # 模型文件相对与插件根目录路径</span><br><span class="line">  # scriptFrom: jsdelivr    # jsdelivr CDN</span><br><span class="line">  # scriptFrom: unpkg    # unpkg CDN</span><br><span class="line">  # scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js    # 你的自定义 url</span><br><span class="line">  tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中，具体见项目github描述</span><br><span class="line">  debug: false # 调试, 是否在控制台输出日志</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-miku # live2d模型的名字，要改的地方</span><br><span class="line">    scale: 1</span><br><span class="line">    hHeadPos: 0.5</span><br><span class="line">    vHeadPos: 0.618</span><br><span class="line">  display:</span><br><span class="line">    superSample: 2</span><br><span class="line">    width: 200</span><br><span class="line">    height: 400</span><br><span class="line">    position: right # 左侧还是右侧</span><br><span class="line">    hOffset: 20</span><br><span class="line">    vOffset: 0 # 距底部距离</span><br><span class="line">  mobile:</span><br><span class="line">    show: false # 手机端是否可见</span><br><span class="line">    scale: 0.5</span><br><span class="line">  react:</span><br><span class="line">    opacityDefault: 0.7</span><br><span class="line">    opacityOnHover: 0.2</span><br></pre></td></tr></table></figure>

<h2 id="配置页面"><a href="#配置页面" class="headerlink" title="配置页面"></a>配置页面</h2><ul>
<li><strong>分类</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo hexo new page categories</span><br></pre></td></tr></table></figure>

<p>然后将以下复制到 &#x2F;source&#x2F;categories&#x2F;index.md 文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">layout: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<ul>
<li>标签</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo hexo new page tags</span><br></pre></td></tr></table></figure>

<p>然后将以下复制到 &#x2F;source&#x2F;categories&#x2F;index.md 文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">layout: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<ul>
<li>友情链接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo hexo new page friends</span><br></pre></td></tr></table></figure>

<p>然后将以下复制到 &#x2F;source&#x2F;friends&#x2F;index.md 文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: friends</span><br><span class="line">type: friends</span><br><span class="line">layout: &quot;friends&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>然后在根目录下的 <code>_config.ayer.yml</code> 中自定义 <code>friends_link</code> 配置项即可</p>
<ul>
<li>相册</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo exo new page photos</span><br></pre></td></tr></table></figure>

<p>然后将以下复制到 &#x2F;source&#x2F;photos&#x2F;index.md 文件，<code>img_url</code> 替换成图片路径，<code>caption</code> 替换成图片名称</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Gallery</span><br><span class="line"></span><br><span class="line">albums: [[&quot;img_url&quot;, &quot;img_caption&quot;], [&quot;img_url&quot;, &quot;img_caption&quot;]]</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h1 id="SEO优化"><a href="#SEO优化" class="headerlink" title="SEO优化"></a>SEO优化</h1><p>我们辛辛苦苦写了博客是为了什么，但不管是为了什么，都有一个让更多人看见的过程。（那些写完就自己一个人看的除外）所以我们需要seo优化，让各大搜索引擎收录我们的网站。</p>
<h3 id="1-生成-sitemap-文件"><a href="#1-生成-sitemap-文件" class="headerlink" title="1. 生成 sitemap 文件"></a>1. 生成 sitemap 文件</h3><p>需要先安装 hexo 插件：</p>
<pre><code>     sudo cnpm install hexo-generator-baidu-sitemap --save
</code></pre>
<p>打开配置文件博客根目录下的<code>_config.yml</code>添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">baidusitemap:</span><br><span class="line">	path: baidusitemap.xml</span><br></pre></td></tr></table></figure>

<p>再重启 hexo</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo hexo clean &amp;&amp; sudo hexo g &amp;&amp; sudo hexo d</span><br></pre></td></tr></table></figure>

<h3 id="2-网站推送至百度"><a href="#2-网站推送至百度" class="headerlink" title="2.网站推送至百度"></a>2.网站推送至百度</h3><p>百度 → <a href="https://ziyuan.baidu.com/site/siteadd?siteurl=">添加个人网站</a></p>
<p>使用添加文件的方式</p>
<p>输入你的网址</p>
<p><img src="https://pic.imgdb.cn/item/64966b321ddac507cc16c7f3.webp"></p>
<p>按你的情况选</p>
<p><img src="https://pic.imgdb.cn/item/64966b481ddac507cc16ecba.webp"></p>
<p>选择文件验证</p>
<p><img src="https://pic.imgdb.cn/item/64966b571ddac507cc170728.webp"></p>
<p>把那个验证文件下载到你博客的 source 文件夹里面。</p>
<p>然后</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo hexo clean &amp;&amp; sudo hexo g &amp;&amp; sudo hexo d</span><br></pre></td></tr></table></figure>

<p>点击完成验证即可。</p>
<h2 id="3-将内容推送至百度"><a href="#3-将内容推送至百度" class="headerlink" title="3.将内容推送至百度"></a>3.将内容推送至百度</h2><h3 id="一-手动提交baidusitemap-xml"><a href="#一-手动提交baidusitemap-xml" class="headerlink" title="一.手动提交baidusitemap.xml"></a>一.<a href="https://ziyuan.baidu.com/linksubmit/index">手动提交baidusitemap.xml</a></h3><p><img src="https://pic.imgdb.cn/item/64966d361ddac507cc1a845b.webp"></p>
<p>点击sitemap</p>
<p><img src="https://pic.imgdb.cn/item/64966d691ddac507cc1adc96.webp"></p>
<p>填入http:&#x2F;&#x2F;你的网址&#x2F;baidusitemap.xml 提交即可</p>
<h3 id="二-”抓取诊断”，手动-百度抓取"><a href="#二-”抓取诊断”，手动-百度抓取" class="headerlink" title="二.”抓取诊断”，手动-百度抓取"></a>二.”抓取诊断”，手动-百度抓取</h3><h3 id="三-Robots-→-检测并更新"><a href="#三-Robots-→-检测并更新" class="headerlink" title="三.Robots → 检测并更新"></a>三.Robots → 检测并更新</h3><p><img src="https://pic.imgdb.cn/item/64966d581ddac507cc1ac360.webp"></p>
<p>robots配置</p>
<p>在你博客(hexo)根目录下的 source 文件夹中新建一个robots文件，填入一下内容。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /tags/</span><br><span class="line">Allow: /about/</span><br><span class="line">Allow: /photos</span><br><span class="line"></span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /css/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /fancybox/</span><br><span class="line">Sitemap: https://你的网址/sitemap.xml</span><br><span class="line">Sitemap: https://你的网址/baidusitemap.xml</span><br></pre></td></tr></table></figure>

<p>最后</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo hexo clean &amp;&amp; sudo hexo g &amp;&amp; sudo hexo d</span><br></pre></td></tr></table></figure>

<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>这样下来你的Hexo博客就基本成型了，预祝你的博客越办越好！</p>
<p>ps.坐在电脑前一个上午，屁股好痛…</p>
]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>Ayer</tag>
        <tag>hexo</tag>
        <tag>live2d</tag>
        <tag>seo</tag>
      </tags>
  </entry>
  <entry>
    <title>关于Hexo的图片插入问题</title>
    <url>/20230624/%E5%85%B3%E4%BA%8EHexo%E7%9A%84%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h1 id="本地图片引用了却无法显示"><a href="#本地图片引用了却无法显示" class="headerlink" title="本地图片引用了却无法显示"></a>本地图片引用了却无法显示</h1><blockquote>
<p>插入图片的两种方法：</p>
</blockquote>
<ol>
<li>引用图床</li>
<li>引用本地图片。为了防止路径出错，建议使用图床。</li>
</ol>
<span id="more"></span>

<h2 id="1-图床"><a href="#1-图床" class="headerlink" title="1.图床"></a>1.图床</h2><p>推荐使用：<a href="https://www.superbed.cn/">聚合图床</a></p>
<h2 id="2-本地图片"><a href="#2-本地图片" class="headerlink" title="2.本地图片"></a>2.本地图片</h2><p>参照 <a href="https://hexo.io/zh-cn/docs/asset-folders">Hexo 文档</a>，然后用这种方式引用图片：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img image.jpg [title] %&#125;</span><br></pre></td></tr></table></figure>

<p>如果还是无法显示，请尝试在文章里用 html 的 img 标签来引用本地图片。</p>
]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>折腾一下解析域名</title>
    <url>/20230623/%E6%8A%98%E8%85%BE%E4%B8%80%E4%B8%8B%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今天折腾完Hexo和Ayer主题，把网站托管到GitHub之后就开始忙活着搞域名了。</p>
<p>之前也不是没搞过，可能是由于白嫖的原因，问题不断，屡屡失败，就是没解析上。而今天秉着花钱买服务的想法，遂花2.22美金，买下了这个域名<code>misakait.online</code>的一年使用期。最后它也没辜负我的期望，成功解析上了。</p>
<span id="more"></span>

<h1 id="正式教程"><a href="#正式教程" class="headerlink" title="正式教程"></a>正式教程</h1><h2 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h2><p>我是在<a href="%5Bwww.name.com%5D(http://www.name.com)">Name</a>这里买的域名，购买过程就不啰嗦了，就是注意买的时候会有个人信息要填，国家要选China,币种人民币即可。要不没有支付宝选项。</p>
<h2 id="解析域名"><a href="#解析域名" class="headerlink" title="解析域名"></a>解析域名</h2><p><img src="https://pic.imgdb.cn/item/64958a961ddac507ccfa7a1f.webp"></p>
<p>这样子填就可以了，其中主机类型A的填@，answer这样填：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">185.199.108.153</span><br><span class="line">185.199.109.153</span><br><span class="line">185.199.110.153</span><br><span class="line">185.199.111.153</span><br></pre></td></tr></table></figure>

<p>至于CNAME类型的主机填www，answer填你原本GitHub Page的域名即可。</p>
<p>至此域名提供商的事就结束了。</p>
<h2 id="Github-Page设置"><a href="#Github-Page设置" class="headerlink" title="Github-Page设置"></a>Github-Page设置</h2><p>进入你Hexo托管的仓库，点击Setting</p>
<p><img src="https://pic.imgdb.cn/item/64958ce31ddac507ccfeec62.webp"></p>
<p>接着找到page</p>
<p><img src="https://pic.imgdb.cn/item/64958d571ddac507ccffbfa6.jpg"></p>
<p>找到Custom domain，并在红框内填上你在域名提供商中买到的域名。</p>
<p><img src="https://pic.imgdb.cn/item/64958d791ddac507cc00018a.webp"></p>
<p>类似如此，最后点击save。即可大功告成！</p>
<p>最后等待大约30分钟左右就可以通过新域名访问你的博客了。（最长可以等到48小时之后才可以）</p>
<h2 id="紧急问题修复"><a href="#紧急问题修复" class="headerlink" title="紧急问题修复"></a>紧急问题修复</h2><p>我兴冲冲<code>hexo d -g</code>之后进入我的新域名浏览时，却发现了十分恐怖的现象</p>
<p>404！！！</p>
<p>最后发现原来还要在你的博客目录下的source文件夹下新建一个CNAME文件。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd source</span><br><span class="line">touch CNAME</span><br><span class="line">vim CNAME</span><br></pre></td></tr></table></figure>

<p>里面只要写上你的新域名就行了。</p>
<p><img src="https://pic.imgdb.cn/item/649593a31ddac507cc0ab2ab.webp"></p>
<p>类似这样。</p>
<p>接着重复<strong>Github-Page设置</strong>中的内容。</p>
<p>最后重新hexo重新生成并上传</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp;  hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>

<p>即可。</p>
]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>domain</tag>
      </tags>
  </entry>
  <entry>
    <title>记树莓派上Hexo的搭建</title>
    <url>/20230623/%E8%AE%B0%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8AHexo%E7%9A%84%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>   首先感谢你能来访问我的 Blog，这是我搭建的第一个博客网站，使用的是 Github Pages + Hexo 的形式搭建。从小白一路走了过来也挺不容易的 hhh，我奋战一天一夜，从一开始的Aurora失败最后转投Hexo，可谓经历良多。现在把它记录下来，将来也许会是一种怀念。</p>
<span id="more"></span>

<!-- more -->

<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><h2 id="安装nodejs及npm"><a href="#安装nodejs及npm" class="headerlink" title="安装nodejs及npm"></a>安装nodejs及npm</h2><h3 id="1-寻找nodejs链接"><a href="#1-寻找nodejs链接" class="headerlink" title="1. 寻找nodejs链接"></a>1. 寻找nodejs链接</h3><p>进入<a href="https://nodejs.org/">Node.js官网</a></p>
<p><img src="https://pic.imgdb.cn/item/649538dd1ddac507cc615530.webp"></p>
<p>点击<code>OtherDownloads</code>进入<a href="https://nodejs.org/en/download/">下载页面</a>我们可以看到在<code>Linux Binaries (ARM)</code>下有着armv8即aarch64的包。</p>
<p><img src="https://pic.imgdb.cn/item/649539d81ddac507cc635f23.webp"></p>
<p>树莓派上wget下载即可。</p>
<h3 id="2-解压二进制包"><a href="#2-解压二进制包" class="headerlink" title="2.解压二进制包"></a>2.解压二进制包</h3><p>在树莓派终端输入如下命令解压：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xz -d ~.tar.xz</span><br><span class="line">tar -xavf ~.tar</span><br></pre></td></tr></table></figure>

<p>先将系统内原本存在的<code>/usr/bin.node</code>删除，在终端输入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> -rf /usr/bin/node</span><br><span class="line"><span class="comment">#如果不存在，忽略此步骤</span></span><br></pre></td></tr></table></figure>

<p>解压后，将二进制包移动到<code>/usr/local/node</code>下，在终端输入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mv</span> ./~ /usr/local/node</span><br></pre></td></tr></table></figure>

<h3 id="4-建立软连接"><a href="#4-建立软连接" class="headerlink" title="4.建立软连接"></a>4.建立软连接</h3><p>然后为<code>node</code>和<code>npm</code>建立软连接，在终端输入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/node/bin/node /usr/bin/node</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/node/bin/npm /usr/bin/npm</span><br><span class="line"><span class="comment">#这类似于Windows中的快捷方式</span></span><br></pre></td></tr></table></figure>

<p>我们通过查看<code>node</code>和<code>npm</code>版本的方式来查看是否成功，在终端输入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v &amp;&amp; npm -v</span><br></pre></td></tr></table></figure>

<p>可以看到对应的版本号说明<strong>安装成功</strong>，如下图（不同支持版或版本号不同）：</p>
<p><img src="https://pic.imgdb.cn/item/64953b1f1ddac507cc65fb4d.webp"></p>
<h2 id="GitHub创建个人仓库"><a href="#GitHub创建个人仓库" class="headerlink" title="GitHub创建个人仓库"></a>GitHub创建个人仓库</h2><p>登录到GitHub,如果没有GitHub帐号，使用你的邮箱注册GitHub帐号：<a href="https://github.com/">Build software better, together</a> 点击GitHub中的New repository创建新仓库，仓库名应该为：<strong>用户名</strong>.github.io这个<strong>用户名</strong>使用你的GitHub帐号名称代替，这是固定写法，比如我的仓库名为：<img src="https://pic.imgdb.cn/item/64953c2b1ddac507cc68229e.webp"></p>
<h2 id="获取GitHub的taken"><a href="#获取GitHub的taken" class="headerlink" title="获取GitHub的taken"></a>获取GitHub的taken</h2><p><strong>这一部尤为关键！后面要用。</strong></p>
<h3 id="1-登录github，点击设置"><a href="#1-登录github，点击设置" class="headerlink" title="1.登录github，点击设置"></a>1.登录github，点击设置</h3><p><img src="https://pic3.zhimg.com/80/v2-257b6563b9a331de7ba82fd959ac3096_720w.webp"></p>
<h3 id="2-在左侧菜单点击开发者设置"><a href="#2-在左侧菜单点击开发者设置" class="headerlink" title="2.在左侧菜单点击开发者设置"></a>2.在左侧菜单点击开发者设置</h3><p><img src="https://pic1.zhimg.com/80/v2-1d93cc0bd336d0c8fbe46e741be7d358_720w.webp"></p>
<h3 id="3-生成新的令牌"><a href="#3-生成新的令牌" class="headerlink" title="3.生成新的令牌"></a>3.生成新的令牌</h3><p><img src="https://pic.imgdb.cn/item/649547931ddac507cc7ee595.webp"></p>
<h3 id="4-点击创建完成创建"><a href="#4-点击创建完成创建" class="headerlink" title="4.点击创建完成创建"></a>4.点击创建完成创建</h3><p>切记，<strong>务必复制一下这个token，并且保存在某个文件里，否则之后只能编辑权限，找不到token值了，只能重新创建</strong>。同时注意保护这个taken，这个taken的权利极其大！小心不要让它泄露了。</p>
<h2 id="部署Git"><a href="#部署Git" class="headerlink" title="部署Git"></a>部署Git</h2><p>在树莓派终端输入以安装Git：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure>

<p>配置Git信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;你的GitHub用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure>

<p>然后查看是否已经全局修改用户名：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>

<p>配置完成后如下图：</p>
<p><img src="https://pic.imgdb.cn/item/64953fa81ddac507cc6f5567.webp"></p>
<h2 id="Hexo的安装"><a href="#Hexo的安装" class="headerlink" title="Hexo的安装"></a>Hexo的安装</h2><p>新建一个文件夹并在此安装Hexo</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>查看是否安装成功</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo hexo -v</span><br></pre></td></tr></table></figure>

<p><img src="https://pic.imgdb.cn/item/64953e111ddac507cc6c2861.webp"></p>
<h1 id="正式起航"><a href="#正式起航" class="headerlink" title="正式起航"></a>正式起航</h1><h2 id="Hexo-初始化配置"><a href="#Hexo-初始化配置" class="headerlink" title="Hexo 初始化配置"></a>Hexo 初始化配置</h2><p>第一个命令，为<code>hexo</code>建立软连接</p>
<p>第二个命令，初始化Hexo</p>
<p>第三个命令表示安装 hexo 部署到 git page 的 deployer，否则后面执行<code>hexo d</code>‘时会出错。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -s /home/lib/node_modules/hexo-cli/bin/hexo /usr/bin/hexo</span><br><span class="line">sudo hexo init</span><br><span class="line">sudo npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<h3 id="本地查看效果"><a href="#本地查看效果" class="headerlink" title="本地查看效果"></a>本地查看效果</h3><p>执行以下命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo hexo g</span><br><span class="line">sudo hexo s</span><br></pre></td></tr></table></figure>

<p>执行完即可浏览器进入 <a href="http://localhost:4000/">http://localhost:4000/</a> 查看效果</p>
<p>显示如下说明操作成功：  </p>
<p><img src="https://pic.imgdb.cn/item/649541571ddac507cc72b406.png"></p>
<p>确认完后回到ssh按Ctrl+C退出。</p>
<h2 id="将博客部署到Github-Pages-上"><a href="#将博客部署到Github-Pages-上" class="headerlink" title="将博客部署到Github Pages 上"></a>将博客部署到Github Pages 上</h2><p>  到目前为止，我们的本地博客就成功搭建了，但是现在我们只能通过本地连接查看博客，我们要做的是让其他人也能够访问我们的博客，这就需要我们将博客部署到 Github Pages 上。</p>
<p>我们需要配置博客根目录下的<code>_config.yml</code>文件，在终端输入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim _config.yml</span><br></pre></td></tr></table></figure>

<p>进入<code>_config.yml</code>后到文件末端，如下图 将此处修改为</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/你的账户名/你的账户名.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  #注意这里的冒号后要加空格</span><br></pre></td></tr></table></figure>

<p>类似这样：</p>
<p><img src="https://pic.imgdb.cn/item/649542bb1ddac507cc75ab3b.webp"></p>
<p>在 blog 文件夹下分别执行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo hexo clean &amp;&amp; sudo hexo g &amp;&amp; sudo hexo d</span><br></pre></td></tr></table></figure>

<p>期间要输入用户名和密码（taken）,用户名输入你的GitHub用户名即可，但是密码不是你的GitHub密码，而是taken！至于taken，一步步按上文走的你应该有了。</p>
<p><img src="https://pic.imgdb.cn/item/649544241ddac507cc78855b.webp"></p>
<p>至此，你的博客已经上传至GitHub了！</p>
<h2 id="访问博客"><a href="#访问博客" class="headerlink" title="访问博客"></a>访问博客</h2><p>你的博客地址：https:&#x2F;&#x2F;你的用户名.github.io， 比如我的是：<a href="https://misakajialin.github.io/">https://misakajialin.github.io</a> ，现在每个人都可以通过此链接访问你的博客了!（感动）</p>
<h1 id="后言"><a href="#后言" class="headerlink" title="后言"></a>后言</h1><p>至于接下来内容，就期待我的第二篇博客吧！</p>
]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>RaspberryPi</tag>
      </tags>
  </entry>
</search>
